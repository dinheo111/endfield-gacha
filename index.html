<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>질베르타 픽업 가챠 시뮬레이터</title>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&family=Rajdhani:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
  :root {
    --bg-dark: #1a1a2e;
    --bg-card: #16213e;
    --accent-gold: #f5a623;
    --accent-orange: #e8751a;
    --star6: #ff6b35;
    --star5: #c9a227;
    --star4: #8b9dc3;
    --text-primary: #e8e8e8;
    --text-dim: #8899aa;
  }
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: 'Noto Sans KR', sans-serif;
    background: var(--bg-dark);
    color: var(--text-primary);
    min-height: 100vh;
    overflow-x: hidden;
  }
  body::before {
    content: '';
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background: 
      radial-gradient(ellipse at 20% 50%, rgba(245,166,35,0.06) 0%, transparent 50%),
      radial-gradient(ellipse at 80% 20%, rgba(232,117,26,0.04) 0%, transparent 50%),
      radial-gradient(ellipse at 50% 80%, rgba(15,52,96,0.3) 0%, transparent 50%);
    pointer-events: none; z-index: 0;
  }
  .container { max-width: 900px; margin: 0 auto; padding: 20px; position: relative; z-index: 1; }

  .header { text-align: center; padding: 40px 20px 30px; position: relative; }
  .header::after {
    content: ''; position: absolute; bottom: 0; left: 50%; transform: translateX(-50%);
    width: 200px; height: 2px;
    background: linear-gradient(90deg, transparent, var(--accent-gold), transparent);
  }
  .banner-tag {
    display: inline-block;
    background: linear-gradient(135deg, var(--star6), var(--accent-orange));
    color: #fff; font-family: 'Rajdhani', sans-serif; font-weight: 700;
    font-size: 12px; letter-spacing: 2px; text-transform: uppercase;
    padding: 4px 16px; border-radius: 2px; margin-bottom: 16px;
  }
  .header h1 {
    font-family: 'Rajdhani', sans-serif; font-size: 42px; font-weight: 700;
    letter-spacing: 3px;
    background: linear-gradient(to right, #f5a623, #fff, #f5a623);
    -webkit-background-clip: text; -webkit-text-fill-color: transparent;
    margin-bottom: 8px;
  }
  .header p { color: var(--text-dim); font-size: 14px; font-weight: 300; }
  .pickup-info { margin-top: 12px; font-size: 13px; color: var(--star6); font-weight: 500; }

  .stats-bar { display: flex; justify-content: center; gap: 24px; margin: 30px 0; flex-wrap: wrap; }
  .stat-item { text-align: center; min-width: 80px; }
  .stat-value { font-family: 'Rajdhani', sans-serif; font-size: 32px; font-weight: 700; color: var(--accent-gold); line-height: 1; }
  .stat-label { font-size: 11px; color: var(--text-dim); letter-spacing: 1px; text-transform: uppercase; margin-top: 4px; }

  .pity-section { display: flex; justify-content: center; gap: 30px; margin: 20px 0; flex-wrap: wrap; }
  .pity-item { text-align: center; }
  .pity-bar-container { width: 120px; height: 6px; background: rgba(255,255,255,0.05); border-radius: 3px; overflow: hidden; margin-top: 6px; }
  .pity-bar-fill { height: 100%; border-radius: 3px; transition: width 0.5s ease; }
  .pity-bar-fill.bar-80 { background: linear-gradient(90deg, var(--accent-gold), var(--star6)); }
  .pity-bar-fill.bar-120 { background: linear-gradient(90deg, #e84393, #fd79a8); }
  .pity-bar-fill.bar-5star { background: linear-gradient(90deg, var(--star5), #e8d44d); }
  .pity-count { font-family: 'Rajdhani', sans-serif; font-size: 24px; font-weight: 700; color: var(--accent-gold); }
  .pity-count.pink { color: #fd79a8; }
  .pity-count.gold5 { color: var(--star5); }
  .pity-label { font-size: 10px; color: var(--text-dim); letter-spacing: 1px; text-transform: uppercase; }

  .btn-group { display: flex; justify-content: center; gap: 16px; margin: 30px 0; flex-wrap: wrap; }
  .btn {
    font-family: 'Noto Sans KR', sans-serif; font-weight: 700; font-size: 15px;
    border: none; cursor: pointer; padding: 14px 36px;
    transition: all 0.3s ease; letter-spacing: 1px;
  }
  .btn-pull {
    background: linear-gradient(135deg, var(--accent-orange), var(--star6)); color: #fff;
    clip-path: polygon(8px 0, 100% 0, calc(100% - 8px) 100%, 0 100%);
  }
  .btn-pull:hover { transform: translateY(-2px); box-shadow: 0 8px 30px rgba(245,166,35,0.4); }
  .btn-pull:active { transform: translateY(0); }
  .btn-pull10 {
    background: linear-gradient(135deg, #e8751a, #ff4500); color: #fff;
    clip-path: polygon(8px 0, 100% 0, calc(100% - 8px) 100%, 0 100%);
  }
  .btn-pull10:hover { transform: translateY(-2px); box-shadow: 0 8px 30px rgba(255,69,0,0.4); }
  .btn-pull10:active { transform: translateY(0); }
  .btn-reset {
    background: transparent; color: var(--text-dim);
    border: 1px solid rgba(136,153,170,0.3);
    clip-path: polygon(8px 0, 100% 0, calc(100% - 8px) 100%, 0 100%);
  }
  .btn-reset:hover { border-color: var(--text-dim); color: var(--text-primary); }

  .log-msg { text-align: center; margin-top: 12px; font-size: 13px; color: var(--accent-gold); min-height: 20px; }

  .result-area { min-height: 200px; margin: 20px 0; }
  .result-grid { display: flex; flex-wrap: wrap; justify-content: center; gap: 12px; }
  .result-card {
    width: 140px; background: var(--bg-card); border: 1px solid rgba(255,255,255,0.05);
    overflow: hidden; opacity: 0; transform: scale(0.8) translateY(20px);
    animation: cardReveal 0.5s ease forwards;
  }
  @keyframes cardReveal { to { opacity: 1; transform: scale(1) translateY(0); } }
  .result-card.star6 { border-color: var(--star6); box-shadow: 0 0 20px rgba(255,107,53,0.3), inset 0 0 20px rgba(255,107,53,0.05); }
  .result-card.star5 { border-color: var(--star5); box-shadow: 0 0 15px rgba(201,162,39,0.2), inset 0 0 15px rgba(201,162,39,0.05); }
  .result-card.star4 { border-color: rgba(139,157,195,0.3); }
  .rarity-bar { height: 3px; width: 100%; }
  .star6 .rarity-bar { background: linear-gradient(90deg, var(--star6), #ff9a56); }
  .star5 .rarity-bar { background: linear-gradient(90deg, var(--star5), #e8d44d); }
  .star4 .rarity-bar { background: linear-gradient(90deg, var(--star4), #a8b8d8); }
  .card-body { padding: 16px 12px; text-align: center; }
  .card-stars { font-size: 11px; letter-spacing: 2px; margin-bottom: 8px; }
  .star6 .card-stars { color: var(--star6); }
  .star5 .card-stars { color: var(--star5); }
  .star4 .card-stars { color: var(--star4); }
  .card-name { font-weight: 700; font-size: 14px; line-height: 1.3; }
  .star6 .card-name { color: #fff; }
  .star5 .card-name { color: #e8dbb8; }
  .star4 .card-name { color: var(--star4); }
  .card-rarity { font-family: 'Rajdhani', sans-serif; font-size: 12px; font-weight: 600; margin-top: 8px; letter-spacing: 1px; }
  .pickup-badge { display: inline-block; background: var(--star6); color: #fff; font-size: 10px; font-weight: 700; padding: 2px 8px; margin-top: 6px; letter-spacing: 1px; }
  .guarantee-badge { display: inline-block; background: linear-gradient(135deg, #e84393, #fd79a8); color: #fff; font-size: 9px; font-weight: 700; padding: 2px 6px; margin-top: 4px; letter-spacing: 1px; }

  .flash-overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 100; pointer-events: none; opacity: 0; animation: flashIn 0.8s ease-out forwards; }
  .flash-overlay.flash-6star { background: radial-gradient(circle, rgba(255,107,53,0.6), transparent); }
  .flash-overlay.flash-pickup { background: radial-gradient(circle, rgba(255,215,0,0.7), transparent); }
  @keyframes flashIn { 0% { opacity: 1; } 100% { opacity: 0; } }

  .history-panel { margin-top: 40px; border-top: 1px solid rgba(255,255,255,0.05); padding-top: 30px; }
  .history-title { font-family: 'Rajdhani', sans-serif; font-size: 20px; font-weight: 600; letter-spacing: 2px; color: var(--text-dim); text-transform: uppercase; margin-bottom: 16px; text-align: center; }
  .history-list { max-height: 300px; overflow-y: auto; scrollbar-width: thin; scrollbar-color: rgba(245,166,35,0.3) transparent; }
  .history-item { display: flex; align-items: center; justify-content: space-between; padding: 10px 16px; border-bottom: 1px solid rgba(255,255,255,0.03); font-size: 13px; }
  .history-item .pull-num { font-family: 'Rajdhani', sans-serif; font-weight: 600; color: var(--text-dim); width: 50px; }
  .history-item .op-name { flex: 1; font-weight: 500; }
  .history-item.h-star6 .op-name { color: var(--star6); font-weight: 700; }
  .history-item.h-star5 .op-name { color: var(--star5); }
  .history-item.h-star4 .op-name { color: var(--star4); }
  .history-item .op-note { font-size: 11px; color: var(--text-dim); margin-left: 8px; min-width: 80px; text-align: right; }
  .history-item .op-rarity { font-family: 'Rajdhani', sans-serif; font-weight: 600; font-size: 12px; letter-spacing: 1px; margin-left: 8px; }

  .prob-section { margin-top: 40px; padding: 20px; background: rgba(22,33,62,0.5); border: 1px solid rgba(255,255,255,0.05); }
  .prob-section h3 { font-family: 'Rajdhani', sans-serif; font-size: 16px; font-weight: 600; letter-spacing: 2px; color: var(--text-dim); text-transform: uppercase; margin-bottom: 12px; text-align: center; }
  .prob-row { display: flex; justify-content: space-between; align-items: center; padding: 8px 12px; border-bottom: 1px solid rgba(255,255,255,0.03); font-size: 13px; gap: 12px; }
  .prob-row:last-child { border-bottom: none; }
  .prob-rarity { font-weight: 700; white-space: nowrap; }
  .prob-rarity.r6 { color: var(--star6); }
  .prob-rarity.r5 { color: var(--star5); }
  .prob-rarity.r4 { color: var(--star4); }
  .prob-detail { flex: 1; color: var(--text-dim); }
  .prob-value { font-family: 'Rajdhani', sans-serif; font-weight: 600; white-space: nowrap; }

  .empty-state { text-align: center; padding: 60px 20px; color: var(--text-dim); font-size: 14px; font-weight: 300; }
  .empty-state .icon { font-size: 40px; margin-bottom: 12px; opacity: 0.3; }

  @media (max-width: 600px) {
    .header h1 { font-size: 28px; }
    .result-card { width: 110px; }
    .btn { padding: 12px 24px; font-size: 13px; }
    .stats-bar { gap: 12px; }
    .stat-value { font-size: 24px; }
    .prob-row { flex-direction: column; align-items: flex-start; gap: 4px; }
  }
</style>
</head>
<body>
<div class="container">
  <div class="header">
    <div class="banner-tag">LIMITED HEADHUNTING</div>
    <h1>질베르타 픽업</h1>
    <p>특별 허가 헤드헌팅 시뮬레이터</p>
    <div class="pickup-info">6★ 픽업 50% · 소프트천장 66회~ · 하드천장 80회 · 확정픽업 120회</div>
  </div>

  <div class="stats-bar">
    <div class="stat-item"><div class="stat-value" id="totalPulls">0</div><div class="stat-label">총 뽑기</div></div>
    <div class="stat-item"><div class="stat-value" id="star6Count">0</div><div class="stat-label">★6 획득</div></div>
    <div class="stat-item"><div class="stat-value" id="star5Count">0</div><div class="stat-label">★5 획득</div></div>
    <div class="stat-item"><div class="stat-value" id="pickupCount">0</div><div class="stat-label">질베르타</div></div>
  </div>

  <div class="pity-section">
    <div class="pity-item">
      <div class="pity-count" id="pity80">0</div>
      <div class="pity-label">6★ 천장 (80)</div>
      <div class="pity-bar-container"><div class="pity-bar-fill bar-80" id="pityBar80" style="width:0%"></div></div>
    </div>
    <div class="pity-item">
      <div class="pity-count pink" id="pity120">0</div>
      <div class="pity-label">픽업 확정 (120)</div>
      <div class="pity-bar-container"><div class="pity-bar-fill bar-120" id="pityBar120" style="width:0%"></div></div>
    </div>
    <div class="pity-item">
      <div class="pity-count gold5" id="pity5star">0</div>
      <div class="pity-label">5★ 확정 (10)</div>
      <div class="pity-bar-container"><div class="pity-bar-fill bar-5star" id="pityBar5" style="width:0%"></div></div>
    </div>
    <div class="pity-item">
      <div class="pity-count" id="currentRate">0.80</div>
      <div class="pity-label">현재 6★ 확률%</div>
    </div>
  </div>

  <div class="btn-group">
    <button class="btn btn-pull" onclick="pull(1)">1회 뽑기</button>
    <button class="btn btn-pull10" onclick="pull(10)">10회 뽑기</button>
    <button class="btn btn-reset" onclick="resetAll()">초기화</button>
  </div>

  <div class="log-msg" id="logMsg"></div>

  <div class="result-area" id="resultArea">
    <div class="empty-state">
      <div class="icon">◇</div>
      <div>뽑기 버튼을 눌러 헤드헌팅을 시작하세요</div>
    </div>
  </div>

  <div class="history-panel">
    <div class="history-title">History</div>
    <div class="history-list" id="historyList"></div>
  </div>

  <div class="prob-section">
    <h3>확률 정보 (엔드필드 실제 시스템 기반)</h3>
    <div class="prob-row">
      <span class="prob-rarity r6">★6</span>
      <span class="prob-detail">질베르타/레바테인/이본/엠버/여풍/아델리아/라스트 라이트/포그라니치니크</span>
      <span class="prob-value">0.80%</span>
    </div>
    <div class="prob-row">
      <span class="prob-rarity r5">★5</span>
      <span class="prob-detail">펠리카/아크라이트/아비웨나/판/진천우/울프가드/자이히/스노우샤인/알레쉬</span>
      <span class="prob-value">8.00%</span>
    </div>
    <div class="prob-row">
      <span class="prob-rarity r4">★4</span>
      <span class="prob-detail">아케쿠리/카치르/에스텔라/플루라이트/안탈</span>
      <span class="prob-value">91.20%</span>
    </div>
    <div class="prob-row" style="margin-top:8px;border-top:1px solid rgba(255,255,255,0.05);padding-top:12px;">
      <span class="prob-rarity r6" style="font-size:12px;">픽업</span>
      <span class="prob-detail">6★ 획득 시 질베르타 50%</span>
      <span class="prob-value">50%</span>
    </div>
    <div class="prob-row">
      <span class="prob-rarity r6" style="font-size:12px;">소프트천장</span>
      <span class="prob-detail">66회 이후 매 뽑기마다 6★ 확률 +5%</span>
      <span class="prob-value">66회~</span>
    </div>
    <div class="prob-row">
      <span class="prob-rarity r6" style="font-size:12px;">하드천장</span>
      <span class="prob-detail">80회 이내 6★ 확정 (다음 배너 이월 가능)</span>
      <span class="prob-value">80회</span>
    </div>
    <div class="prob-row">
      <span class="prob-rarity" style="font-size:12px;color:#fd79a8;">확정픽업</span>
      <span class="prob-detail">120회까지 픽업 못 뽑으면 확정 지급 (이월 불가)</span>
      <span class="prob-value">120회</span>
    </div>
    <div class="prob-row">
      <span class="prob-rarity r5" style="font-size:12px;">5★ 확정</span>
      <span class="prob-detail">10회 이내 5★ 이상 확정</span>
      <span class="prob-value">10회</span>
    </div>
    <div class="prob-row">
      <span class="prob-rarity" style="font-size:12px;color:#a29bfe;">돌파증표</span>
      <span class="prob-detail">배너 내 240뽑 누적마다 픽업 캐릭터 돌파증표 지급</span>
      <span class="prob-value">240회</span>
    </div>
  </div>
</div>

<script>
const PICKUP_OPERATOR = '질베르타';
const star6Pool = ['질베르타','레바테인','이본','엠버','여풍','아델리아','라스트 라이트','포그라니치니크'];
const star6NonPickup = star6Pool.filter(o => o !== PICKUP_OPERATOR);
const star5Pool = ['펠리카','아크라이트','아비웨나','판','진천우','울프가드','자이히','스노우샤인','알레쉬'];
const star4Pool = ['아케쿠리','카치르','에스텔라','플루라이트','안탈'];

const BASE_6STAR = 0.008;
const BASE_5STAR = 0.08;
const SOFT_PITY_START = 65; // 66th pull starts boost
const PITY_INCREASE = 0.05;
const HARD_PITY = 80;
const PICKUP_RATE = 0.50;
const PICKUP_GUARANTEE = 120;
const STAR5_GUARANTEE = 10;

let totalPulls = 0, star6Total = 0, star5Total = 0, pickupTotal = 0;
let pity80 = 0, pity120 = 0, pity5 = 0;
let bannerTotal = 0; // for 240 token tracking
let gotPickup = false;
let tokenCount = 0;
let history = [];

function get6StarRate() {
  if (pity80 >= HARD_PITY - 1) return 1.0;
  if (pity80 > SOFT_PITY_START) {
    return Math.min(BASE_6STAR + (pity80 - SOFT_PITY_START) * PITY_INCREASE, 1.0);
  }
  return BASE_6STAR;
}

function doSinglePull() {
  pity80++;
  pity120++;
  pity5++;
  bannerTotal++;

  // 240 token check
  let tokenAwarded = false;
  if (bannerTotal % 240 === 0) {
    tokenCount++;
    tokenAwarded = true;
  }

  // 120-pull pickup guarantee
  if (!gotPickup && pity120 >= PICKUP_GUARANTEE) {
    pity80 = 0; pity5 = 0; pity120 = 0;
    gotPickup = true;
    star6Total++; pickupTotal++;
    return { rarity: 6, name: PICKUP_OPERATOR, isPickup: true, note: '120회 확정픽업!', isGuarantee: true, tokenAwarded };
  }

  const rate6 = get6StarRate();
  const roll = Math.random();

  /*
   * 확률 구조 (실제 게임 방식):
   * - 6성 확률: 기본 0.8%, 소프트천장 시 증가
   * - 5성 확률: 항상 8% 고정
   * - 4성 확률: 나머지 (= 1 - 6성확률 - 5성확률)
   * - 6성 확률이 올라가면 4성 확률만 줄어듦
   *
   * roll 범위:
   * [0, rate6) → 6성
   * [rate6, rate6 + 0.08) → 5성
   * [rate6 + 0.08, 1.0) → 4성
   */

  const force5 = pity5 >= STAR5_GUARANTEE;

  if (roll < rate6 || pity80 >= HARD_PITY) {
    // 6성 당첨
    const wasHard = pity80 >= HARD_PITY;
    pity80 = 0; pity5 = 0;
    star6Total++;

    const isPickup = Math.random() < PICKUP_RATE;
    let op, note = '';
    if (isPickup) {
      op = PICKUP_OPERATOR;
      pickupTotal++;
      gotPickup = true;
      pity120 = 0;
    } else {
      op = star6NonPickup[Math.floor(Math.random() * star6NonPickup.length)];
      note = '픽뚫';
    }
    if (wasHard) note = (note ? note + ' · ' : '') + '80회 하드천장';
    return { rarity: 6, name: op, isPickup: op === PICKUP_OPERATOR, note, isGuarantee: false, tokenAwarded };

  } else if (roll < rate6 + BASE_5STAR || force5) {
    // 5성 당첨 (기본 확률 구간 또는 10뽑 확정)
    // 10뽑 확정 시: 6성 판정 먼저 하고, 6성 아니면 강제 5성
    pity5 = 0;
    star5Total++;
    const op = star5Pool[Math.floor(Math.random() * star5Pool.length)];
    const note = (force5 && roll >= rate6 + BASE_5STAR) ? '10회 5★확정' : '';
    return { rarity: 5, name: op, isPickup: false, note, isGuarantee: false, tokenAwarded };

  } else {
    // 4성
    const op = star4Pool[Math.floor(Math.random() * star4Pool.length)];
    return { rarity: 4, name: op, isPickup: false, note: '', isGuarantee: false, tokenAwarded };
  }
}

function pull(count) {
  const results = [];
  let has6 = false, hasPickup = false;

  for (let i = 0; i < count; i++) {
    totalPulls++;
    const r = doSinglePull();
    results.push(r);
    if (r.rarity === 6) has6 = true;
    if (r.isPickup) hasPickup = true;
    history.unshift({ pull: totalPulls, ...r });
  }

  if (has6) {
    const flash = document.createElement('div');
    flash.className = `flash-overlay ${hasPickup ? 'flash-pickup' : 'flash-6star'}`;
    document.body.appendChild(flash);
    setTimeout(() => flash.remove(), 800);
  }

  const msgs = results.filter(r => r.note || r.tokenAwarded).map(r => {
    let m = [];
    if (r.note) m.push(`${r.name}: ${r.note}`);
    if (r.tokenAwarded) m.push(`돌파증표 획득! (${tokenCount}개)`);
    return m.join(' | ');
  }).filter(m => m);
  document.getElementById('logMsg').textContent = msgs.join(' | ');

  renderResults(results);
  updateStats();
  renderHistory();
}

function renderResults(results) {
  const area = document.getElementById('resultArea');
  const grid = document.createElement('div');
  grid.className = 'result-grid';
  results.forEach((r, i) => {
    const cls = r.rarity === 6 ? 'star6' : r.rarity === 5 ? 'star5' : 'star4';
    const card = document.createElement('div');
    card.className = `result-card ${cls}`;
    card.style.animationDelay = `${i * 0.08}s`;
    card.innerHTML = `
      <div class="rarity-bar"></div>
      <div class="card-body">
        <div class="card-stars">${'★'.repeat(r.rarity)}</div>
        <div class="card-name">${r.name}</div>
        <div class="card-rarity">${r.rarity}★</div>
        ${r.isPickup ? '<div class="pickup-badge">PICK UP</div>' : ''}
        ${r.isGuarantee ? '<div class="guarantee-badge">확정 지급</div>' : ''}
      </div>`;
    grid.appendChild(card);
  });
  area.innerHTML = '';
  area.appendChild(grid);
}

function updateStats() {
  document.getElementById('totalPulls').textContent = totalPulls;
  document.getElementById('star6Count').textContent = star6Total;
  document.getElementById('star5Count').textContent = star5Total;
  document.getElementById('pickupCount').textContent = pickupTotal;
  document.getElementById('pity80').textContent = pity80;
  document.getElementById('pity120').textContent = gotPickup ? '완료' : pity120;
  document.getElementById('pity5star').textContent = pity5;
  document.getElementById('currentRate').textContent = (get6StarRate() * 100).toFixed(2);
  document.getElementById('pityBar80').style.width = (pity80 / 80 * 100) + '%';
  document.getElementById('pityBar120').style.width = gotPickup ? '100%' : (pity120 / 120 * 100) + '%';
  document.getElementById('pityBar5').style.width = (pity5 / 10 * 100) + '%';
}

function renderHistory() {
  const list = document.getElementById('historyList');
  list.innerHTML = '';
  history.slice(0, 100).forEach(h => {
    const cls = h.rarity === 6 ? 'h-star6' : h.rarity === 5 ? 'h-star5' : 'h-star4';
    const item = document.createElement('div');
    item.className = `history-item ${cls}`;
    item.innerHTML = `
      <span class="pull-num">#${h.pull}</span>
      <span class="op-name">${h.name}${h.isPickup ? ' ✦' : ''}</span>
      <span class="op-note">${h.note || ''}</span>
      <span class="op-rarity">${h.rarity}★</span>`;
    list.appendChild(item);
  });
}

function resetAll() {
  totalPulls = 0; star6Total = 0; star5Total = 0; pickupTotal = 0;
  pity80 = 0; pity120 = 0; pity5 = 0;
  bannerTotal = 0; tokenCount = 0;
  gotPickup = false;
  history = [];
  updateStats();
  document.getElementById('logMsg').textContent = '';
  document.getElementById('resultArea').innerHTML = `
    <div class="empty-state">
      <div class="icon">◇</div>
      <div>뽑기 버튼을 눌러 헤드헌팅을 시작하세요</div>
    </div>`;
  document.getElementById('historyList').innerHTML = '';
}
</script>
</body>
</html>
